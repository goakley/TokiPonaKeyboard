<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Toki Pona Keyboard</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="content">
      <h1>TokiPonaKeyboard</h1>
      <div class="section">
        <h2>Overview</h2>
        <img class="right" src="keyboard.webp" style="width:400px" />
        <p>This keyboard is a a 4-joystick input device, inspired by the simplified language of <a href="https://tokipona.org/">Toki Pona</a>.  Gestures on the joysticks are mapped to keyboard letters.  The mapping is designed around the ability to use multiple joysticks at once in order to quickly input text.</p>
        <p>The keyboard is designed to be friendly for any beginner hardware hacker.  Assembly requires only basic soldering skills and tools.</p>
      </div>
      <div class="section">
        <h2>Hardware Components</h2>
        <img class="right" src="joysticks.webp" style="width:400px" />
        <p class="link"><a href="https://www.sparkfun.com/wish_lists/167955">Buy Components</a></p>
        <ul>
          <li>Simple component interfaces and pinouts</li>
          <li>Widely-available parts</li>
        </ul>
        <p>The joystick is powered by a <a href="https://www.sparkfun.com/products/12640">5V Pro Micro Arduino board</a>.  This board was chosen because of its built-in keyboard emulation capabilities at a low price point.  Other boards that emulate the Pro Micro (including its pinout) can also be used.</p>
        <p>The most obvious piece of the keyboard is its joysticks - these are <a href="https://www.sparkfun.com/products/9426">thumb slide joysticks</a>.  They are idential to the type of joystick found on the PlayStation Portable.  These joysticks were chosen due to their sliding mechanism and low profile keycap design.</p>
        <p>The microcontroller and joysticks are linked via a <a href="https://www.sparkfun.com/products/9056">CD74HC4067 breakout</a>, which is a simple analog multiplexer.  This simplifies the interface with the microcontroller while still responding quickly to user input.</p>
      </div>
      <div class="section">
        <h2>Printed Circuit Board</h2>
        <img class="right" src="pcb.webp" style="width:400px" />
        <p class="link"><a href="https://github.com/goakley/TokiPonaKeyboard/tree/main/pcb/gerbers">Download Gerbers</a></p>
        <ul>
          <li>Designed with easy assembly in mind</li>
          <li>Hand-fitted component layout</li>
          <li>100% through-hole soldering</li>
        </ul>
        <p>It's possible to build the keyboard by wiring components together.  However, a PCB provides a stable surface for both the components and the user's hand.</p> 
        <p>The PCB was designed around the size of an average North American male's hand.  The spacing of the joysticks can be changed in the KiCad project in order to accomodate different hand shapes and sizes.  Since spacing changes don't change the relative position of the joysticks, there should be no need to re-route any traces.</p>
        <p>The PCB is production-ready and has been tested; it has been manufactured by <a href="https://jlcpcb.com/">JLCPCB</a>, but the parameters of the PCB should be well within range of most large-scale PCB manufacturers.
        <h4>Soldering</h4>
        <img class="right" src="solder.webp" style="width:400px" />
        <p>While the entire PCB can be assembled using through-hole soldering techniques, there is a special approach for soldering the joysticks to the PCB.  Since the Joysticks are surface-mount components, they do not stick out the other side of the through-holes.  To work around this, the holes on the PCB have been elongated.  The holes are just large enough to fit the tip of a soldering iron and some solder.  By applying solder flux to the joystick and pressing it against the PCB (using a third hand), it becomes possible to solder the joystick pads to the PCB holes.</p>
        <p>When soldering, check that the solder "peeks out" of each hole along the side of the joystick.  This is a good indication that you've made contact with the pad and that the circuit is complete.  If any of the pads are "floating", simply re-apply the iron and add a bit more solder to the hole in order to make a connection.  Note that this is all much easier when using flux on the joystick pads.</p>
      </div>
      <div class="section">
        <h2>Keyboard Case</h2>
        <img class="right" src="case.webp" style="width:400px" />
        <p class="link"><a href="https://github.com/goakley/TokiPonaKeyboard/tree/main/case">Download STL</a></p>
        <ul>
          <li>Simple model topology for easy printing</li>
          <li>Single-piece assembly</li>
        </ul>
        <p>The keyboard's case is a single open enclosure designed to support the assembled PCB under the weight of the user's hand.  The design accounts for the size of the component mounting holes and most through-hole header lengths.  While the case needs no additional hardware (apart from the PCB), it is recommended to put rubber feet on the bottom to prevent the case from sliding around.</p>
        <p>The case model also comes with a number of "loose stands" (free-floating posts exactly like the eight that are built into the case).  These can be useful during PCB assembly to make sure that the joysticks are properly aligned while soldering.</p>
      </div>
      <div class="section">
        <h2>Microcontroller Software</h2>
        <img class="right" src="keymap.webp" style="width:400px" />
        <p class="link"><a href="https://github.com/goakley/TokiPonaKeyboard/tree/main/code">Download Software</a></p>
        <ul>
          <li>Custom microcontroller code</li>
          <li>Flexible keymapping tool</li>
        </ul>
        <p>The Pro Micro Arduino board that powers the keyboard uses custom software to turn joystick inputs into keyboard input.  This software includes not just the microcontroller code, but a tool for assigning keyboard keys to different joystick actions.</p>
      </div>
    </div>
  </body>
</html>
